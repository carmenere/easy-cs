# Table of contents
- [Table of contents](#table-of-contents)
- [Преобразования](#преобразования)
- [Подвижные и неподвижные точки](#подвижные-и-неподвижные-точки)
- [Графы преобразований.](#графы-преобразований)
- [Перестановки](#перестановки)
- [Графы перестановок.](#графы-перестановок)
- [Орибты и циклы](#орибты-и-циклы)
- [Произведение перестановок](#произведение-перестановок)
  - [Визуализцаия произведения перестановок](#визуализцаия-произведения-перестановок)
  - [Тождественная перестановка](#тождественная-перестановка)
  - [Обратная перестановка](#обратная-перестановка)
- [Циклы](#циклы)
  - [Взаимно простые перестановки](#взаимно-простые-перестановки)
  - [Циклы перестановок](#циклы-перестановок)
- [Пример разложения перестановки в произведение циклов](#пример-разложения-перестановки-в-произведение-циклов)
- [Симметрическая группа](#симметрическая-группа)
- [Четность перестановки](#четность-перестановки)
  - [Инверсии](#инверсии)
  - [Транспозиции](#транспозиции)
    - [Свойства транспозиций](#свойства-транспозиций)
- [Порядок перестановки](#порядок-перестановки)

<br>

# Преобразования
Очень часто приходится рассматривать **отображения** (**mappings**) некоторого множества $`M`$ в себя. Такие *отображения* некоторого множества $`M`$ в себя называются **преобразованияями** (**transformations**).<br>

Изучая **преобразования** произвольного конечного множества, удобно придерживаться определенных стандартных обознвачений. Природа элементов множества $`M`$ при изучении его преобразований - **несущественна**. Следовательно, мы можем **занумеровать** все элементы множества $`M`$ и оперировать **не** с самими элементами, а с их **номерами**. Поэтому, рассматривая **преобразования** конечных множеств, мы будем иметь дело с множеством $`M = \{1, 2, 3, ..., n\}`$, где $`n∈N`$.<br>

**Преобразование** конечного множества $`M`$ (или на множестве $`M`$) часто обозначают строчными буквами греческого алфавита или заглавными латинскими баквами и записывают в виде таблицы, например:<br>

$`\phi = \left( \begin{matrix}
    1 & 2 & 3 & \dots & n-1 & n \\
    2 & 3 & 4 & \dots & n & 1
\end{matrix}\right)`$
<br>

где
- $`\phi`$ - обозначение преобразования;
- в **верхней** строке - **аргументы**, обычно отсортированные по возрастанию;
- в **нижней** строке - **значения** функции;

<br>

Например, если $`M = \{1, 2, 3, 4, 5\}`$, то:<br>

$`a) \space \phi = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    2 & 3 & 4 & 1 & 5
\end{matrix}\right), \space \space \space b) \space \psi = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    5 & 4 & 3 & 2 & 1
\end{matrix}\right)`$ <br>

есть таблицы **разных** *преобразований* $`\phi`$ и $`\psi`$ на множестве $`M`$.<br>

Некоторые преобразования конечного множества $`M`$ имеют специальные названия:
1. **Тождественное преобразование** - преобразование, которое все элементы оставляет на месте, это преобразование имеет таблицу:
$`\left( \begin{matrix}
    1 & 2 & 3 & \dots & n-1 & n \\
    1 & 2 & 3 & \dots & n-1 & n
\end{matrix}\right)`$
1. **Постоянное преобразование** - преобразование, которое каждому элементу из $`M`$ ставит в соответсвие один и тот же элемент, это преобразование имеет таблицу:
$`\left( \begin{matrix}
    1 & 2 & 3 & \dots & n-1 & n \\
    1 & 1 & 1 & \dots & 1 & 1
\end{matrix}\right)`$
1. **Перестановка**.

<br>

# Подвижные и неподвижные точки
**Подвижная точка** (**non-fixed point**) преобразования $`\phi`$ конечного множества $`M`$ - это такой элемент $`a∈M`$, для которого справедливо равенство $`\phi(a) \ne a`$.<br>
**Неподвижная точка** (**fixed point**) преобразования $`\phi`$ конечного множества $`M`$ - это такой элемент $`a∈M`$, для которого справедливо равенство $`\phi(a) \ne a`$.<br>

<br>

**Степень преобразования** $`\phi`$ - количество подвижных точек преобразования $`\phi`$.<br>
Например,
- **тождественное преобразование** имеет **степень нуль**;
- **постоянное преобразование** имеет **степень n-1**;

<br>

# Графы преобразований.
Любое **преобразование** $`\phi`$ можно представить в виде **орграфа**:
- отметим вершины $`1, 2, ..., n`$;
- далее: 
  - если $`\phi(i) = j`$ то рисуем **дугу** из $`i`$ в $`j`$;
  - если $`\phi(i) = i`$ то рисуем **петлю**;

<br>

**Подвижная точка** на орграфе преобразования - это точка **без** петель.<br>
**Неподвижная точка** на орграфе преобразования - это точка **с** петлёй.<br>

<br>

# Перестановки
**Перестановка** (**permutation**) $`\phi`$ конечного множества $`M`$ (или на множестве $`M`$) - это **биекция** конечного мнжества на себя. Другими словами, $`\phi`$ есть **перестановка** на $`M = \{1, 2, 3, ..., n\}`$ тогда и только тогда, когда для произвольных элементов $`a∈M`$ и $`b∈M`$ таких, что $`a \ne b`$ имеем $`\phi(a) \ne \phi(b)`$.<br>

**Перестановка** $`\phi`$ на $`M`$ задается таблицей вида (aka **two-line notation**):<br>

$`\phi = \left( \begin{matrix}
    1 & 2 & 3 & \dots & n-1 & n \\
    \phi(1) & \phi(2) & \phi(3) & \dots & \phi(n-1) & \phi(n)
\end{matrix}\right)`$
<br>

где $`\phi(1) = a_{1}, \space \phi(2) = a_{2}, \space \phi(3) = a_{3}, \space \dots, \space \phi(n-1) = a_{n-1}, \space \phi(n) = a_{n}`$ - разные элементы из $`M`$.<br>

Читать такую таблицу следует так: **перестановка** $`\phi`$:
- переводит элемент $`1`$ в $`a_{1}`$;
- переводит элемент $`2`$ в $`a_{2}`$;
- ...
- переводит элемент $`n`$ в $`a_{n}`$;

<br>

Перестановки иногда записывают в **один ряд** (aka **one-line notation**), который содержит **только значения функции**, *опуская верхний ряд*: $`\phi = (a_{1}, \space a_{2}, \space a_{3}, \space \dots, \space a_{n-1}, \space a_{n})`$ или просто $`a_{1}a_{2}a_{3}\dots a_{n-1}a_{n}`$.<br>

Пример: запись $`\phi = (a_{1}, \space a_{2}, \space a_{3}, \space \dots, \space a_{n-1}, \space a_{n})`$ **эквивалентна** записи $`\phi = \left( \begin{matrix}
    1 & 2 & 3 & \dots & n-1 & n \\
    a_{1} & a_{2} & a_{3} & \dots & a_{n-1} & a_{n}
\end{matrix}\right)`$.<br>

<br>

# Графы перестановок.
Если *преобрзаование* $`\phi`$ является **перестановкой** на множестве $`M`$, то
- **из** *каждой вершины* орграфа, соответствующего перестановке, **выходит одна и только одна** стрелка;
- **в** *каждую вершину* орграфа, соответствующего перестановке, **входит одна и только одна** стрелка;

Пусть **перестановка** $`\phi`$ множества $`M = \{1, 2, 3, 4, 5, 6\}`$ задана таблицей:<br>

$`\phi = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 & 6 \\
    3 & 4 & 1 & 5 & 6 & 2
\end{matrix}\right)`$
<br>

Ее можно изобразить в виде следующего орграфа:
![permutation_orgraph](/img/permutation_orgraph.png)

<br>

Мы видим, что орграф произвольной перестановки образует **цикл** или **распадается** на **несколько** независымх **циклов**.

<br>

# Орибты и циклы
Пусть $`\phi`$ некоторое **преобразование** множества $`M = \{1, 2, 3, ..., n\}`$ и $`a`$ произвольный элемент из $`M`$, **мощность** множества $`M`$ равна $`n`$.<br>
Последовательность $`a = a_{0}, \space \phi(a_0) = a_{1}, \space \phi(a_{1}) = a_{2}, \space \phi(a_{2}) = a_{3}, \space \dots, \space \phi(a_{j}) = a_{j+1}, \space ... `$ элементов из $`M`$ называется **орбитой** элемента $`a`$ для **преобразования** $`\phi`$ и обозначается $`O(a, \phi)`$.<br>

**В общем случае** множество $`O(a, \phi)`$ элементов **орбиты** является подмножеством множества $`M = \{1, 2, 3, ..., n\}`$: $`O(a, \phi) = \{a_{0}, \space a_{1}, \space a_{2}, \dots \space, a_{k}\}`$, где $`a_{i}∈M`$.<br>

**В частности** может случиться, что $`O(a, \phi) = M`$.<br>

Очевидно, что элементы в последовательности $`a = a_{0}, \space \phi(a_0) = a_{1}, \space \phi(a_{1}) = a_{2}, \space \phi(a_{2}) = a_{3}, \space \dots, \space \phi(a_{j}) = a_{j+1}, \space ... `$ начнут повторяться, начиная с некоторого места, образуя таким образом **цикл**. Пусть $`k`$ **наменьшее** число такое, что $`\phi(a_{k}) = a_{k+1} = a_{l}, \space \space l < k`$. Ясно, что элементы $`a_{k+1}, \space a_{k+2}, \dots`$ принадлежат множеству $`O(a, \phi) = \{a_{0}, \space a_{1}, \space a_{2}, \dots \space, a_{k}\}`$, где $`a_{i}∈M`$.
А т.к. индексы нумеруем с **0**, то $`0 \le k \le n-1`$.<br>

Если $`l \ne 0`$, то *преобразование* $`\phi`$ образует **цикл** и при этом **не** является *перестановкой*, т.к. в точку $`a_{l}`$ входят 2 стрелки, это следует из того, что элемент $`a_{l}`$ уже встречался как минимум один раз в последовательности, т.к. $`l < k`$.<br>

Если $`l = 0`$, то *преобразование* $`\phi`$ образует **цикл** и **является** *перестановкой* на множестве $`O(a, \phi)`$.

Если $`l = 0`$ и при этом $`k = n-1`$, то **орбитой** будет **все** множество $`M`$: $`O(a, \phi) = M`$ и **перестановка** $`\phi`$ действует на элементы из $`M`$ так:<br>

$`a = a_{0}, \space \phi(a_0) = a_{1}, \space \phi(a_{1}) = a_{2}, \space \phi(a_{2}) = a_{3}, \space \dots, \space \phi(a_{n-2}) = a_{n-1}, \space ..., \phi(a_{n-1}) = a_{0}`$.<br>

Если мощность орбиты $`O(a, \phi)`$ **меньше** чем мощность множества $`M`$, то существуют другие элементы, которые **не** вошли в $`O(a, \phi)`$.<br>

Таким образом:
- каждое **преобразование** разбивает множество $`M`$ на *орибты* и при этом **разные** *орибты* могут содержать **общие** элементы;
- каждая **перестановка** разбивает множество $`M`$ на *орибты* и при этом **разные** *орибты* не содержат **общих** элементов, т.е. **пересечение** *любых двух орбит* даст **пустое множество**;

<br>

# Произведение перестановок
**Произведение перестановок** (aka **композиция перестановок**) - это последовательное применение перестановок.<br>

Нотация. **Композция** $`H`$ двух разных перестановок $`G`$ и $`F`$ записывается так:<br>
$`H = G \circ F`$<br>

**Композиция** вычисляется **справа налево**, т.е. **сначала** применяется **правая** перестановка $`F`$, а **затем**, к ее **результату** применяется **левая** перестановка $`G`$.<br>

Т.к. перестановки это биекции, то композицию перестановок можно переписать в нотации функций: $`H(a_{i}) = G(F(a_{i}))`$, другими словами, чтобы найти куда $`H`$ отображает элемент $`a_{i}`$, надо сначала найти $`F(a_{i})`$, а потом $`G(F(a_{i}))`$.<br>

**В общем случае**, произведение перестановок **не коммутативно**.<br>

<br>

## Визуализцаия произведения перестановок
Даны 2 перестановки:<br>
$`F = \left( \begin{matrix}
    1 & 2 & 3 \\
    3 & 2 & 1
\end{matrix}\right) \space \space G = \left( \begin{matrix}
    1 & 2 & 3 \\
    2 & 3 & 1
\end{matrix}\right)`$

<br>

$`H = G \circ F`$:<br>
![composition_visualisation](/img/composition_visualisation.png)

## Тождественная перестановка
**Тождественная перестановка** $`I`$ или $`\varepsilon`$ - такая перестановка, которая переводит каждый элемент из $`M`$ в себя же.<br>

Таблица *тождественной перестановки*:<br>

$`I = \left( \begin{matrix}
    1 & 2 & 3 & \dots & n-1 & n \\
    1 & 2 & 3 & \dots & n-1 & n
\end{matrix}\right)`$

<br>

**Свойства**:
- для заданного множества $`M`$ существует **только одна** *тождественная перестановка*;

<br>

## Обратная перестановка
**Обратная перестановка** $`F^{-1}`$ - такая перестановка, которую, если применить к результату перестановки $`F`$, то она **вернет** все элемента на те места, на которых они были **до** применения перестановки $`F`$.<br>

$`I = \left( \begin{matrix}
    1 & 2 & 3 & \dots & n-1 & n \\
    1 & 2 & 3 & \dots & n-1 & n
\end{matrix}\right)`$

<br>

**Свойства**:
- произведение **перестановки на обратную к ней** дает **тождественную** перестановку: $`I = F \circ F^{-1}`$;
- **левая** и **правая** обратные подстановки **совпадают**: $`F \circ F^{-1} = F^{-1} \circ F = I`$;

<br>

# Циклы
Любую перестановку можно разложить в **произведение независимых циклов**.

<br>

## Взаимно простые перестановки
Две перестановки $`\phi`$ и $`\psi`$ на множестве $`M`$ называются **взаимно простыми**, если их множества **подвижных** точек **не** имеют **общих** элементов.<br>

Пример взаимно простых перестановок:<br>

$`\phi = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    3 & 1 & 2 & 4 & 5
\end{matrix}\right) \space \space \psi = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    1 & 2 & 3 & 5 & 4
\end{matrix}\right)`$

Множество подвижных точек для $`\phi`$ является $`\{1,2,3\}`$, а для $`\psi`$ является $`\{4,5\}`$.<br>

**Произведение** двух **взаимно простых** перестановок **коммутативно**:<br>

$`\left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    3 & 1 & 2 & 4 & 5
\end{matrix}\right) \space \circ \space \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    1 & 2 & 3 & 5 & 4
\end{matrix}\right) = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    3 & 1 & 2 & 5 & 4
\end{matrix}\right)`$

<br>

$`\left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    1 & 2 & 3 & 5 & 4
\end{matrix}\right) \space \circ \space \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    3 & 1 & 2 & 4 & 5
\end{matrix}\right) = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 \\
    3 & 1 & 2 & 5 & 4
\end{matrix}\right)`$

<br>

## Циклы перестановок
Пусть $`\phi`$ произвольная перестановка на множестве $`M`$, которая разбивает множество $`M`$ на $`s`$ ($`s \le n`$) орбит: $`O_{1}, \space O_{2}, \space \dots, \space O_{s}`$.<br>
Это разбиение обладает следующими свойствами:
- каждый элемент из $`M`$ принадлежит ровно одному из подмножеств $`O_{i} (i=1,2,\dots,s)`$;
- если $`i \ne j`$ то $`O_{i}`$ и $`O_{j}`$ не имеют общих элементов;
- если $`o \in O_{i}`$ то и $`\phi(o) \in O_{i}`$

<br>

Два крайних случая:
- если *перестановка* разбивает множество $`M`$ на **одну орбиту**, то эта орбита будет включать **все** элементы из $`M`$: $`O(a, \phi) = M`$, а *перестановка* распадется на **один цикл** длиной $`n`$;
- если *перестановка* разбивает множество $`M`$ на $`n`$ **орбит**, то каждая орбита будет состоять из **одного** элемента, а *перестановка* распадется на $`n`$ **циклов** длины $`1`$;

<br>

На орграфе *перестановки* $`\phi`$, каждая её **орибта** $`O_{i}`$ будет представлятся как **незавимый цикл**, а **длина** каждого цикла равна **мощности** соответвующей ему **орибты** $`|O_{i}|`$. Каждый **неподвижный элемент** *перестановки* $`\phi`$ образует **цикл** длины **1**.<br>

Так как каждая из **орбит** $`O_{i}`$ перестановки $`\phi`$ на множестве $`M`$ образует **независимый цикл** $`\psi_{i}`$ длины $`|O_{i}|`$, то каждый такой **цикл** можно рассматривать как некоторую **перестановку** $`\phi_{i}`$ на множестве $`M`$, у которой множество **подвижных точек** совпадет с ее орбитой $`O_{i}`$, а все остальные элементы переходят в себя, т.е. образуют **неподвижные точки**.<br>

Более формально: пусть $`\phi`$ произвольная перестановка на множестве $`M`$, а $`O_{i}(a, \phi)`$ одна из ее орбит, тогда перестановка $`\phi_{i}`$ на множестве $`M`$:
- $`\forall o \in O_{i} \implies \phi_{i}(o) \in O_{i}`$;
- $`\forall a \in M: a \notin O_{i} \implies \phi_{i}(a) = a`$;

<br>

Такие перестановки $`\phi_{i}`$ на множестве $`M`$ называются **циклическими перестановками** или просто **циклами**.<br>

**Циклическая перестановка** (aka **цикл**) длины **k** - такая **перестановка** $`\phi`$, у которой **k** *подвижных элементов* и **все** её *подвижные элементы* образуют **один цикл** длины **k**.<br>

Для краткости при записи **циклической перестановки** можно использовать **one-line notation** и оставить **только** *подвижные элементы*, например:<br>

$`\phi_{1} = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\
    2 & 3 & 1 & 4 & 5 & 6 & 7 & 8
\end{matrix}\right) =(231)`$

<br>

Получается, что любая произвольная перестановка $`\phi`$ на множестве $`M`$ разбивается на $`s`$ **независимых циклических перестановок**, причем все такие циклические перестановки $`\phi_{i}`$ **попарно взаимно простые**, т.е. $`\phi_{i} \ne \phi_{j}`$ если $`i \ne j`$.<br>

Получается, что **любую** произвольную **перестановку** $`\phi`$ на множестве $`M`$ можно представить в виде **произведения** всех её **циклических перестановок** и это произведение не зависит от порядка множителей:<br>

$`\phi = \phi_{1} \circ \phi_{2} \circ \phi_{3} \circ \dots \circ \phi_{s}`$.<br>

В данном разложении можно опустить все **неподвижные элементы** (aka **циклы** длины **1**).<br>

<br>

# Пример разложения перестановки в произведение циклов
Требуется разложить в произведение циклов следующую перестановку:<br>

$`\phi = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\
    2 & 3 & 1 & 6 & 7 & 4 & 5 & 8
\end{matrix}\right)`$
<br>

Первым делом нужно найти **все** ее **орбиты** и соответвующие им **циклы**:
- **орибта**: $`O_{1} = \{1,2,3\}`$, **цикл**: $`\psi_{1}=(231)`$;
- **орибта**: $`O_{2} = \{4,6\}`$, **цикл**: $`\psi_{2}=(64)`$;
- **орибта**: $`O_{3} = \{5,7\}`$, **цикл**: $`\psi_{3}=(75)`$;
- **орибта**: $`O_{4} = \{8\}`$, **цикл**: $`\psi_{4}=(8)`$;

<br>

Теперь мы можем для каждого **цикла** $`\psi_{i}`$ записать соответствующую ему **циклическую перестановку** $`\phi_{i}`$:
- $`\psi_{1}=(231) \implies \phi_{1} = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\
    2 & 3 & 1 & 4 & 5 & 6 & 7 & 8
\end{matrix}\right) =(231)`$;
- $`\psi_{2}=(64) \implies \phi_{2} = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\
    1 & 2 & 3 & 6 & 5 & 4 & 7 & 8
\end{matrix}\right)=(64)`$
- $`\psi_{3}=(75) \implies \phi_{3} = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\
    1 & 2 & 3 & 6 & 7 & 4 & 5 & 8
\end{matrix}\right) = (75)`$
- $`\psi_{4}=(8) \implies \phi_{4} = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\
    1 & 2 & 3 & 6 & 5 & 4 & 7 & 8
\end{matrix}\right) = \varepsilon = (8)`$

<br>

Теперь мы можем разложить перестановку в **произведение** её **циклов**:
$`\phi=\phi_{1} \circ \space \phi_{2} \circ \space \phi_{3} \circ \space \phi_{4} = (231)\circ \space (64) \circ \space (75) \circ \space (8)`$.<br>

Все **неподвижные элементы** (aka **циклы** длины **1**) можно **отбросить** и тогда **разложение** примет итоговый вид:
$`\phi= (231)\circ \space (64) \circ \space (75)`$.

<br>

# Симметрическая группа
Множество $`\Phi = \{\phi_{0}, \phi_{1}, \dots, \phi_{j}, \dots\}`$ всех перестановок $`\phi_{j}`$ на множестве $`M`$ мощности $`n`$ образует группу $`S_{n}`$.<br>
Группа $`S_{n}`$ называется **симметрическая группа**, она **не коммутативна**.<br>

<br>

# Четность перестановки
Все перестановки делятся на **чётные** и **нечётные**.<br>

Существет 2 подхода для определения **чётности** или **нечётности** перестановки:
- через подсчет **инверсий**;
- через подсчет **транспозиций**;

<br>

## Инверсии
**Чётность** перестановки $`\phi`$ это **четность** числа **всех её инверсий**.<br>
**Инверсия** в перестановке $`\phi`$ это число всех таких пар $`\{i,j\}`$ что $`i \lt j`$, **но** $`\phi(i) \lt \phi(j)`$.<br>

Например, для перестановки $`\phi = (45132)`$ **все** её **инверсии**: $`\{1,4\}, \{1,5\}, \{2,4\}, \{2,5\}, \{2,3\}, \{3,4\}, \{3,5\}`$. Всего **7** инверсий. Т.к. **7** - **нечётное** число, то перестановка - **нечётная**.<br>

Минусы данного подхода:
- понятие инверсии предполагает **отношение порядка** между элементами множества, однако, множество может содержать элементы разной природы и элементы могут и **не иметь** *отношения порядка*;
- подсчет числа инверсий работает за $`O(n^2)`$, т.к. максимальное число инверсий это $`C^{2}_{n}`$;

**Максимальное чило инверсий** содержится в перестановке, все элементы которой отсортированы в **по убыванию**: $`\phi = (n \space n-1 \space \dots \space 3 \space 2 \space 1)`$.<br>

<br>

## Транспозиции
**Транспоизция** - **цикл** длины **2**.<br>
При применении **транспозиции** к любой перестановке **только** **2** числа **меняются** местами.<br>

Примеры **транспозиций**:<br>
  
- $`\phi = \left( \begin{matrix}
    1 & 2 & 3 & 4 \\
    3 & 2 & 1 & 4
\end{matrix}\right) = (31)`$;
- $`\phi = (52134) = (51)`$;

<br>

### Свойства транспозиций
**Теорема**: от любой перестановки можно перейти к любой другой при помощи последовательно выполненных транспозиций.<br>

**Теорема**: **умножение** перестановки **на транспозицию меняет четность** перестановки: **чётная** стновится **нечётной**, а **нечётная** становится **чётной**.<br>

*Доказательство*.
В случае соседних элементов $`s_{i}`$ и $`s_{i+1}`$ все очевидно: взаимная престановка сосдених элементов приводит либо к **увеличению** либо к **уменьшению** общего числа инверсии.<br>
Транспозицию элементов $`s_{i}`$ и $`s_{i+k}`$ между которыми находится $`k`$ элементов можно рассматривать как результат
- $`k+1`$ **последовательных** транспозиций элемента $`s_{i}`$ с соседними элементами, расположенными справа от $`s_{i}`$:
![transpositions-1](/img/transpositions-1.png)
- затем $`k`$ **последовательных** транспозиций элемента $`s_{i+k}`$ с соседними элементами, расположенными слева от $`s_{i+k}`$:
![transpositions-2](/img/transpositions-2.png)

*Доказано*.

Полное число транспозиций: $`k+1+k = 2k + 1`$:
- если $`k`$ **чётно**, то и $`2k + 1`$ **чётно**;
- если $`k`$ **не**чётно, то $`2k + 1`$ тоже **не**чётно;

<br>

*Следствие*:
- при умножении на **чётное** число транспозиций **перестановка** **не меняет** чётность;
- при умножении на **нечётное** число транспозиций **перестановка** **меняет** чётность;

<br>

**Теорема**: число **всех чётных** перестановок на множстве $`M`$ мощности $`n`$ **равно** числу **всех нечётных** перестановок и равно $`\frac{n!}{2}`$.<br>

<br>

**Теорема**: **любую** *перестановку* можно разложить в **произведение** *транспозиций*. *Чётность* **числа транспозиций** определяет **чётность перестановки**.<br>

*Следствия*:
- **чётность цикла** противоположна чётности его длины;
  - цикл **чётной** длины - **не**чётная перестановка;
  - цикл **не**чётной длины - **чётная** перестановка;
- всякая **транспозиция** есть **нечётная перестановка**;

Разложение в произведение транспозиций осуществимо за **линейное** время.<br>

<br>

**Пример**. Разложить данную перестановку в **произведение транспозиций**:<br>

$`\phi = \left( \begin{matrix}
    1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\
    8 & 7 & 2 & 1 & 6 & 5 & 3 & 4
\end{matrix}\right)`$.
<br>

Разложим ее в произведение циклов: $`\phi = (184) \circ (273) \circ (56)`$.<br>
Далее раскладываем циклы в произведение транспозиций:
- $`(184) = (18) \circ (14)`$;
- $`(273) = (27) \circ (23)`$;

Следовательно: $`\phi = (18) \circ (14) \circ (27) \circ (23) \circ (56)`$.<br>

<br>

**Теорема**: **композиция** перестановки $`\phi`$ и обратной к ней $`\phi^{-1}`$ есть **чётная** перестановка, т.е. они либо **обе чётные** либо **обе нечётные**.<br>

*Следствия*:
- *тождественная перестановка* $`\varepsilon`$ - **всегда чётная перестановка**;
- *композиция* **двух чётных** или **двух нечётных** перестановок - **чётная** перестановка;
- *композиция* **чётной** и **нечётной** перестановок - **нечётная** перестановка;

<br>

Все **чётные** перестановки образуют **подгруппу** в **симметрической группе** $`S_{n}`$, т.к.
- *композиция* **чётных** перестановок - **чётная перестановка**;
- *обратная* к **чётной** перестановке - **чётная перестановка**;
- $`\varepsilon`$ - **чётная перестановка**;

<br>

Все **нечётные** перестановки **не** образуют **подгруппу**, т.к. среди **нечётных** перестановок **нет** нейтрального элемента, т.е. **тождественной перестановки** $`\varepsilon`$.<br>

<br>

# Порядок перестановки
Рассмотрим последовательность перестановок получающихся умножением $`\phi`$ на себя: $`\phi`$, $`\phi^2`$, $`\phi^3`$, ..., $`\phi^{i}`$. Мы увидим, что $`\phi^{i} = \varepsilon`$ при некотором $`i=k`$ и $`\phi^{i} \ne \varepsilon`$ для всех $`i \lt k`$.<br>

**Теорема**: пусть $`\phi`$ произвольная перестановка конечного множества $`M`$, тогда найдется такое $`n`$, что:<br>
$`\phi^{n} = \underbrace{\phi \space \circ \space \phi ... \space \circ \space \phi = \varepsilon}_\text{n times} `$, где $`\varepsilon`$ - **тождественная перестановка**.<br>

**Порядок перестановки** $`\phi`$ - это **минимальное** число $`k`$, при котором $`\phi^{k} = \varepsilon`$.<br>

**Порядок перестановки** $`\phi`$ обозначается $`ord \space \phi`$.<br>

Правило нахождения порядка перестановки.
МЫ знаем, что любую перестановку можно разложить в произведение попарно взаимно простых циклов:<br>
$`\phi = \phi_{1} \circ \phi_{2} \circ \phi_{3} \circ \dots \circ \phi_{s}`$.<br>
Для любых номеров $`i`$ и $`j`$ произведение перестановок $`\phi_{i}`$ и $`\phi_{j}`$ **не зависит** от порядка множителей, а значит **k-ую** степень перестановки можно записать так:<br>
$`\phi^{k} = \phi_{1}^{k} \circ \phi_{2}^{k} \circ \phi_{3}^{k} \circ \dots \phi_{s}^{k}`$.<br>

**k-ая** степень перестановки $`\phi^{k}`$ **станет равна** тождественной перестановке
$`\phi^{k} = \varepsilon`$ тогда, когда **k-ая** степень **каждого** сомножителя **станет равна** тождественной перестановке: $`\phi_{i}^{k} = \varepsilon \space \space \forall i \in [1, s]`$.

Более формально, $`\phi^{i} = \varepsilon`$ тогда и только тогда, когда одновременно:

$`\phi_{1}^{i} = \varepsilon`$, $`\phi_{2}^{i} = \varepsilon`$, $`\phi_{3}^{i} = \varepsilon`$, ..., $`\phi_{s}^{i} = \varepsilon`$ (1).<br>
Если перестановки $`\phi_{1}, \space \phi_{2}, \space \dots, \space \phi_{s}`$ есть **циклы** длины $`k_{1}, \space k_{2}, \space \dots, \space k_{s}`$ соответственно, т.е. имеют порядки $`k_{1}, \space k_{2}, \space \dots, \space k_{s}`$, то наименьшее число **i**, для которого одновременно выполняются все равенства (1), равняется, очевидно **наименьшему общему кратному** чисел $`k_{1}, \space k_{2}, \space \dots, \space k_{s}`$.<br>


