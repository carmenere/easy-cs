# Table of contents
- [Table of contents](#table-of-contents)
- [Правило произведения](#правило-произведения)
  - [Количество вариантов выбора НЕ меняется](#количество-вариантов-выбора-не-меняется)
    - [Exercise 1](#exercise-1)
      - [Solution 1](#solution-1)
      - [Solution 2](#solution-2)
    - [Exercise 2](#exercise-2)
      - [Solution](#solution)
    - [Exercise 3](#exercise-3)
      - [Solution 1](#solution-1-1)
      - [Solution 2](#solution-2-1)
    - [Exercise 4](#exercise-4)
      - [Solution](#solution-1)
    - [Exercise 5](#exercise-5)
      - [Solution](#solution-2)
    - [Exercise 6](#exercise-6)
      - [Solution](#solution-3)
  - [Количество вариантов выбора меняется](#количество-вариантов-выбора-меняется)
    - [Exercise 1](#exercise-1-1)
      - [Solution 1](#solution-1-2)
      - [Solution 2](#solution-2-2)
    - [Exercise 2](#exercise-2-1)
      - [Solution](#solution-4)
    - [Exercise 3](#exercise-3-1)
      - [Solution](#solution-5)
    - [Exercise 4](#exercise-4-1)
      - [Solution](#solution-6)
    - [Exercise 5](#exercise-5-1)
      - [Solution](#solution-7)
- [Правила суммы и произведения в связке](#правила-суммы-и-произведения-в-связке)
  - [Количество вариантов выбора НЕ меняется](#количество-вариантов-выбора-не-меняется-1)
    - [Exercise 1](#exercise-1-2)
      - [Solution](#solution-8)
    - [Exercise 2](#exercise-2-2)
      - [Solution](#solution-9)
  - [Количество вариантов выбора меняется](#количество-вариантов-выбора-меняется-1)
    - [Exercise 1](#exercise-1-3)
      - [Solution](#solution-10)
    - [Exercise 2](#exercise-2-3)
      - [Solution](#solution-11)
    - [Exercise 3](#exercise-3-2)
      - [Solution](#solution-12)
    - [Exercise 4](#exercise-4-2)
      - [Solution](#solution-13)
- [Сочетания](#сочетания)
  - [Exercise 1](#exercise-1-4)
      - [Solution 1](#solution-1-3)
      - [Solution 2](#solution-2-3)
      - [Solution 3](#solution-3)
  - [Exercise 2](#exercise-2-4)
      - [Solution 1](#solution-1-4)
      - [Solution 2](#solution-2-4)
  - [Exercise 3](#exercise-3-3)
      - [Solution 1](#solution-1-5)
      - [Solution 2](#solution-2-5)
    - [Exercise 4](#exercise-4-3)
      - [Solution 1](#solution-1-6)
      - [Solution 2](#solution-2-6)
- [Подсчет ненужных вариантов](#подсчет-ненужных-вариантов)
  - [Exercise 1](#exercise-1-5)
      - [Solution](#solution-14)
  - [Exercise 2](#exercise-2-5)
      - [Solution](#solution-15)
- [Умножение сочетаний](#умножение-сочетаний)
  - [Exercise 1](#exercise-1-6)
      - [Solution 1](#solution-1-7)
      - [Solution 2](#solution-2-7)
    - [Conclusion](#conclusion)
  - [Exercise 2: обобщение Exercise 1](#exercise-2-обобщение-exercise-1)
      - [Solution 1](#solution-1-8)
      - [Solution 2](#solution-2-8)
    - [Conclusion](#conclusion-1)
- [Раскладки](#раскладки)
  - [Exercise 1](#exercise-1-7)
      - [Solution](#solution-16)
  - [Exercise 2](#exercise-2-6)
      - [Solution](#solution-17)
  - [Exercise 3](#exercise-3-4)
      - [Solution](#solution-18)
- [Упорядоченные разбиения](#упорядоченные-разбиения)
  - [Exercise 1](#exercise-1-8)
      - [Solution](#solution-19)
- [Неупорядоченные разбиения](#неупорядоченные-разбиения)
  - [Exercise 1](#exercise-1-9)
      - [Solution](#solution-20)

<br>

# Правило произведения
## Количество вариантов выбора НЕ меняется
### Exercise 1
#### Solution 1
Полностью переберем **все** варианты. Все варианты распадаются на *4 категории*:
1. Есть **2** одноцветные раскраски:<br>
![square_1](/img/square_1.png)
2. Есть **4** раскраски, в которых ровно **1** клетка *чёрная*:<br>
![square_2](/img/square_2.png)
3. Есть **4** раскраски, в которых ровно **1** клетка *белая*:<br>
![square_3](/img/square_3.png)
4. Есть **6** раскрасок, в которых **2** клетки белые, а **2** клетки чёрные:<br>
- **по диагонали**:<br>
![square_5](/img/square_5.png)
- **смежные**:<br>
![square_4](/img/square_4.png)

Т.о. получаем: **2** + **4** + **4** + **6** = **16** вариантов.<br>

<br>

#### Solution 2
Если **последовательно** двигаться по клеткам, то на каждом шаге мы можем сделать **выбор** из **2** *вариантов* (т.к. всего **2** *цвета*: *чёрный* и *белый*).<br>
Всего таких шагов **4**, а значит нам придется делать **4** выбора.<br>

Т.о. получаем: $`2\cdot 2\cdot 2\cdot 2 = \textbf{2}^{\textbf{4}} = \textbf{16}`$ вариантов.<br>

<br>

### Exercise 2
#### Solution
Если **последовательно** двигаться по клеткам, то на каждом шаге мы можем сделать **выбор** из **2** *вариантов* (т.к. всего **2** *цвета*: *чёрный* и *белый*).<br>
Всего таких шагов **9 = 3*3**, а значит нам придется делать **9** выборов.<br>

Т.о. получаем: $`\textbf{3}^{\textbf{9}}`$ способов.<br>

<br>

### Exercise 3
#### Solution 1
Переберем все варианты. Будем выписывать все числа в порядке возрастания, начнем с тех, у которых в первом разряде 1:
||||
|:-|:-|:-|
|**1**23|**1**24|**1**25|
|**1**32|**1**34|**1**35|
|**1**42|**1**43|**1**45|
|**1**52|**1**53|**1**54|

Итого: **12** вариантов.

Сформируем еще **4** такие таблицы для оставшихся 4-х цифр: далее будут те, в которых в первом разряде **2**, и т.д.<br>

В каждой таблице будет по **12** вариантов. А **всего** таких таблиц: **5**.<br>

Т.о. получаем: $`12\cdot 5 = \textbf{60}`$ вариантов.<br>

<br>

#### Solution 2
Чтобы сформировать число длиной 3 без повторений из алфавита длины 5 нам нужно сделать 3 выбора, причем, каждый выбор будет уменьшать варианты для следующего выбора:
- на **первом** шаге нам доступны **все** **5** вариантов;
- на **втором** шаге нам доступно на 1 вариант меньше: только **4** варианта;
- на **третьем** шаге нам доступно на 2 варианта меньше: только **3** варианта;
- и т.д.

Т.о. получаем: $`5\cdot (5-1) \cdot (5-2) = 5 \cdot 4 \cdot 3 = \textbf{60}`$ вариантов.<br>

<br>

### Exercise 4
#### Solution
Результаты бросков **не** зависят друг от друга.
При каждом броске возможны **2** исхода: О или Р. Результат броска это результат выбора из двух вариантов.

Т.о. получаем: $`2^{10}`$.<br>

<br>

### Exercise 5
#### Solution
В году есть **12** месяцев, поэтому числа от **1** до **12** **нельзя** однозначно интерпретировать, не зная формата.

Чтобы найти все такие неоднозначные даты, поступим так
- на **первом** шаге выберем любое число от **1** до **12**;
- на **втором** шаге выберем любое число от **1** до **12**;

Всего получим 144 даты.
Но из 144 дат есть ровно 12 дат, в которых и день и месяц одинаковыНапример, 03.03. Такие даты интерпретируются однозначно.

Т.о. получаем: $`144 - 12 = \textbf{132}`$ даты.

<br>

### Exercise 6
#### Solution
Какой бы выбор мы ни сделали на каждом шаге, **вверх** или **вниз**, мы всегда выбираем между двумя **одинаковыми** буквами.<br>
Количество путей, ведущих в последнюю букву слова - это число сочетаний, стоящей на соответвующей клетке **диагонали** треугольника Паскаля.<br>
Получается, что **сумма** всех таких чисел из конкретной **диагонали** треугольника Паскаля - это и есть число **всех** способов прочитать слово, т.е. **всех** путей, которыми можно прийти в последнюю букву в слове.<br>

<br>

||||||||||||||
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
|S|$`\rightarrow`$|U|$`\rightarrow`$|C|$`\rightarrow`$|C|$`\rightarrow`$|E|$`\rightarrow`$|S|$`\rightarrow`$|S|
|S|1|U|2|C|3|C|4|E|5|S|6|S|

<br>

Каждая стрелка - это **выбор**, таких выборов всего **6**. На каждом шаге мы делаем **2** выбора и **количество** этих выборов **не** изменяется.<br>

Т.о. получаем: $`2^{6} = 64`$.<br>

<br>

## Количество вариантов выбора меняется
### Exercise 1
#### Solution 1
Переберем все варианты, для этого выпишем их в виде таблицы:<br>
||`A`|`E`|`O`|
|:-|:---|:--|:--|
|**`B`**|`BA`|`BE`|`BO`|
|**`C`**|`CA`|`CE`|`CO`|
|**`D`**|`DA`|`DE`|`DO`|
|**`F`**|`FA`|`FE`|`FO`|

Т.о. получаем: **12** вариантов.<br>

<br>

#### Solution 2
При формировании слова из **2-х** букв нам нужно сделать **4** выбора, но количество **вариантов** на **первом** шаге и **последующих** **отличаются**:
- в **первый** раз мы можем выбирать из **4-х** вариантов (из 4 согласных);
- **после** первого выбора мы можем выбрать только из **3-х** вариантов (из 3 гласных);

Т.о. получаем: $`4\cdot 3 = \textbf{12}`$ вариантов.<br>

<br>

### Exercise 2
#### Solution
Выбор с уменьшением вариантов на каждом шаге.<br>
Выбрать **старосту** можно **25** способами. **После** выбора старосты остаётся **24** человека и соответственно **24** способа выбрать **помощника**.<br>

Т.о. получаем: $`25  \cdot 24 = \textbf{600}`$.<br>

<br>

### Exercise 3
#### Solution
Имеется **4** масти. Для каждой масти имеется **36/4=9** достоинств.<br>
На первом шаге у нас **9** вариантов для некоторой масти.<br>
После того, как мы выбрали карту, на следующем шаге для другой масти у нас останется только **8** вариантов, т.к. достоинства **не** должны повторяться.<br>

Т.о. получаем: $`9 \cdot 8 \cdot 7 \cdot 6 = \textbf{3024}`$.<br>

<br>

### Exercise 4
#### Solution
**Первую** букву мы можем выбрать **33** способами.<br>
Но, **вторую** букву мы уже можем выбрать **32** способами, т.к. для второго выбора мы **исключили** из вариантов выбора **1** букву, которая была выбрана на **предыдущем** шаге.<br>
И **каждую следующую** букву мы можем выбрать **32** способами.<br>

Т.о. получаем: $`33 \cdot 32^{5}`$.<br>

<br>

### Exercise 5
#### Solution
Возьмем любого парня, существует **3** способа выбрать ему **девушку** в прау.<br>
Но после каждого такого выбора, для следующего парня уже существует толко **2** способа выбрать **девушку** и т.д.<br>
Легко видеть, что $`n \cdot n-1 \cdot \dotsc \cdot 1 = n!`$.<br>
Т.о. получаем: $`3! = 6`$ способов.<br>

<br>

# Правила суммы и произведения в связке
## Количество вариантов выбора НЕ меняется
### Exercise 1
#### Solution
**Не более** чем из **5** букв означает, что нам нужно посчитать все слова длина которых от **1** до **5** **включительно**.<br>
А **любая** означает, что буквы могут **повторяться**, т.е. выбор **не** уменьшает варианты.<br>

Для слов разной длины существует разное количество вариантов, но все они не зависят друг от друга:
- слово из **1** буквы: $`4`$ варианта;
- слово из **2** букв: $`4 \cdot 4`$ варианта;
- и т.д.

Т.о. получаем: $`4^{1} \cdot 4^{2} \cdot 4^{3} \cdot 4^{4} \cdot 4^{5}`$ слов.<br>

<br>

### Exercise 2
#### Solution
Существует **3 независимых** пары сладостей:
1. печенье + пироженное
2. печенье + конфета
3. пироженное + конфета

Для каждой пары число вариантов будет разным:
1. печенье + пироженное: даёт $`7\cdot 5 = 35`$
2. печенье + конфета: даёт $`7\cdot 10 = 70`$
3. пироженное + конфета: даёт $`5\cdot 10 = 50`$

**Правила суммы и произведения** работают в связке: мы **разделяем** все возможные способы на **независимые** группы, а потом **суммируем** **все** варианты **каждой** из групп.<br>

Т.о. получаем: $`35 + 70 + 50 = \textbf{155}`$ вариантов.<br>

<br>

## Количество вариантов выбора меняется
### Exercise 1
#### Solution
Каждую клетку можно разбить на 2 треугольника 2-мя способами:<br>
![](/img/square_triangle_1.png)

После каждого такого разбиения есть 2 способа покрасить эти треугольники в белый и чёрный цвета.<br>

Т.о. одну клетку можно покрасить **4-мя** способами:<br>
![](/img/square_triangle_2.png.png)


После того, как мы покрасим первую клетку в **левом верхнем углу**, у нас возникнут **ограничение** на покраску **соседних** клеток.<br>
Для соседней клетки **слева** и для соседней клетки **снизу** количество вариантов будет уже **не** *4*, а **2**.<br>

Для всех оставшихся клеток в **первом** ряду будет по **2** варианта.<br>
Т.о. получается $`4 \cdot 2 \cdot 2 \cdot 2 \cdot 2 = 2_{6} = 64`$ способа покрасить **первый ряд**.<br>

**Первую клетку** во **втором** ряду мы можем покрасить уже **2** способами, **но**, далее возникает, например, такая ситуация:<br>
![square_triangle_5](/img/square_triangle_5.png)

или такая:<br>

![square_triangle_6](/img/square_triangle_6.png)

На раскраску **второй** клетки во **втором** ряду **влияет** раскраска клетки **над** ней и **слева** от неё и для неё имеется всего **1** вариант выбора, другими словами, выбора **нет**.<br>

Т.о. раскраска **всего** второго ряда **зависит** от раскраски **первой** его клетки.<br>
Т.о. всего есть **2** варианта раскраски **второго ряда**.<br>

**Аналогично** и для **3-го**, **4-го** и **5-го** рядов.<br>

Т.о. получаем: $`64 \cdot 2 \cdot 2  \cdot 2  \cdot 2 = 2^{10} = \textbf{1024}`$ даты.
Умножаем, т.к. выборы зависят друг от друга, т.е. есть 64 способа покрасить первый ряд, но для каждой такого способа есть 2 способа покрасить второй и т.д.<br>

<br>

### Exercise 2
#### Solution
Заметим, что количество полей, которые бьет слон, зависит от того, где он стоит.<br>

Пример 1:<br>
![bishop_1](/img/bishop_1.png)

Пример 2:<br>
![bishop_2](/img/bishop_2.png)

Существует **4 независимые** группы положений, в которых слон бьет **одинаковое** количество полей (каждая такая группа выделена цветом):<br>
![bishop_3](/img/bishop_3.png)

Каждая из групп содержит разное число полей:
- **зелёная** группа содержит **4** поля;
- **фиолетовая** группа содержит **12** полей;
- **желтая** группа содержит **20** полей;
- **красная** группа содержит **28** полей;

Сколько полей **бьет** слон, находясь с той или иной группе:
- если слон стоит на любой клетке из **зелёной** группы, то он **бьет 14** полей, включая то, на котором стоит;
- если слон стоит на любой клетке из **фиолетовой** группы, то он **бьет 12** полей, включая то, на котором стоит;
- если слон стоит на любой клетке из **желтой** группы, то он **бьет 10** полей, включая то, на котором стоит;
- если слон стоит на любой клетке из **красной** группы, то он **бьет 8** полей, включая то, на котором стоит;

<br>

Нам нужно поставить **два** слона так, чтобы они **не били** друг друга. Это значит, поставив первого слона, количество вариантов для **другого** можно посчитать так:
**64** - {все те **клетки**, которые **бьет первый слон**}.

Получаем:
- в **зелёной** группе **4** поля, поставив **первого** слона на любую из них останется **(64 - 14)** вариантов для **второго** слона, т.к. находясь в **зеленой** группе, **первый** слон **бьет 14** полей:
  - $`4 \cdot (64-14) = 4 \cdot 50`$
- в **фиолетовой** группе **12** полей, поставив **первого** слона на любую из них останется **(64 - 12)** вариантов для **второго** слона, т.к. находясь в **фиолетовой** группе, **первый** слон **бьет 14** полей:
  - $`12 \cdot (64-12) = 12 \cdot 52`$
- в **желтой** группе **20** полей, поставив **первого** слона на любую из них останется **(64 - 10)** вариантов для **второго** слона, т.к. находясь в **желтой** группе, **первый** слон **бьет 10** полей:
  - $`20 \cdot (64-10) = 20 \cdot 54`$
- в **красной** группе **28** полей, поставив **первого** слона на любую из них останется **(64 - 8)** вариантов для **второго** слона, т.к. находясь в **красной** группе, **первый** слон **бьет 8** полей:
  - $`28 \cdot (64-8) = 28 \cdot 56`$

Т.о. получаем: $`(4 \cdot 50) + (12 \cdot 52) + (20 \cdot 54) + (28 \cdot 56)`$.<br>

<br>

### Exercise 3
#### Solution
Ладью можно поставить в любую клетку доски, а значит есть **64** способа сделать это.<br>
Где бы ладья не стояла, она бьёт **15** полей, включая поле, на котором стоит. А значит после того как мы поставим первую ладью, останется **64-15=49** допустимых полей, куда мы можем поставить **другую** ладью **другого** цвета.<br>

Т.о. получаем: $`64 \cdot (64-15) = 64 \cdot 49 `$.<br>

<br>

### Exercise 4
#### Solution
Задача аналогична задаче про слона, но нужно учесть, что **ферзь** бьёт на **14** полей больше чем **слон** для каждой из групп.<br>

Получаем:
- в **зелёной** группе **4** поля, поставив **первого** слона на любую из них останется **(64 - 14)** вариантов для **второго** слона, т.к. находясь в **зеленой** группе, **первый** слон **бьет 14** полей:
  - $`4 \cdot (64-14-14) = 4 \cdot 36`$
- в **фиолетовой** группе **12** полей, поставив **первого** слона на любую из них останется **(64 - 12)** вариантов для **второго** слона, т.к. находясь в **фиолетовой** группе, **первый** слон **бьет 14** полей:
  - $`12 \cdot (64-12-14) = 12 \cdot 38`$
- в **желтой** группе **20** полей, поставив **первого** слона на любую из них останется **(64 - 10)** вариантов для **второго** слона, т.к. находясь в **желтой** группе, **первый** слон **бьет 10** полей:
  - $`20 \cdot (64-10-14) = 20 \cdot 40`$
- в **красной** группе **28** полей, поставив **первого** слона на любую из них останется **(64 - 8)** вариантов для **второго** слона, т.к. находясь в **красной** группе, **первый** слон **бьет 8** полей:
  - $`28 \cdot (64-8-14) = 28 \cdot 42`$

Т.о. получаем: $`(4 \cdot 36) + (12 \cdot 38) + (20 \cdot 40) + (28 \cdot 42)`$.<br>

<br>

# Сочетания
## Exercise 1
#### Solution 1
Нарисуем **full-mesh** граф, в котором **вершны** - это **участники**, а **ребра** - это **игры**.
**Количество ребер** в **full-mesh** графе: т.к. из каждой вершины исходит **n-1** ребер, а всего вершин **n**, и каждое ребро считает вершину **дважды**: **A->B** и **B->A**, то всего имеем
$`{\frac {n\cdot (n-1)}{2}}`$ ребер.<br>

Т.о. получаем: $`{\frac {8\cdot (8-1)}{2}} = 4 \cdot 7 = \textbf{28}`$ вариантов.<br>

<br>

#### Solution 2
Мы можем посчитать количество уникальных пар $`(x,y)`$.
При этом, пары $`(x,y)`$ и $`(y,x)`$ будут различными. Но обе такие пары дают одну игру. Поэтому нужно разделить количество уникальных пар на **2**.<br>

Посчитаем количество уникальных пар так:
- на **первом** шаге у нас **8** вариантов для выбора;
- на **втором** шаге у нас уже **7** варианта для выбора;

Т.о. получаем: $`{\frac {8 \cdot 7}{2}} = {\frac {56}{2}} = \textbf{28}`$ вариантов.<br>

<br>

#### Solution 3
Найдем число сочетаний $`C_{n}^{2}`$, где **n** - это общее количество участников в турнире.<br>


Т.о. получаем: $`C_{8}^{2} = {\frac {8!}{2!(8-2)!}} = {\frac {8\cdot 7}{2!}} = 4 \cdot 7 = \textbf{28}`$ вариантов.<br>

<br>

## Exercise 2
#### Solution 1
МЫ можем подсчитать количество **уникальных** комбинаций из **3х** друзей, а затем разделить на **3!**, т,к, порядок в каждой комбинации **не** имеет значения и все комбинации из **3** друзей можно трактовать как одну.<br>

Посчитаем количество уникальных комбинаций так:
- на **первом** шаге у нас **5** вариантов для выбора;
- на **втором** шаге у нас уже **4** варианта для выбора;
- на **втором** шаге у нас уже **3** варианта для выбора;

Т.о. получаем: $`{\frac {5 \cdot 4 \cdot 3}{3!}} = {\frac {60}{6}} = \textbf{10}`$.<br>

<br>

#### Solution 2
Найдем число сочетаний $`C_{5}^{3}`$.<br>

Т.о. получаем: $`C_{5}^{3} = {\frac {5!}{3!2!}} = {\frac {5\cdot 4 \cdot 3!}{3!2!}} = {\frac {20}{2}} = \textbf{10}`$

<br>

## Exercise 3
#### Solution 1
Существут **5** **независимых** комбинаций друзей, отличающихся **размером комбинации**.<br>
Для каждой такой комбинации нужно найти число сочетаний: $`C_{5}^{i}`$, где $`i \in [0,5]`$
- 1 друг: $`C_{5}^{1} = 5`$
- 2 друга: $`C_{5}^{2} = 10`$
- 3 друга: $`C_{5}^{3} = 10`$
- 4 друга: $`C_{5}^{4} = 5`$
- 5 друзей: $`C_{5}^{5} = 1`$

И просуммировать все найденные сочетания.<br>

Т.о. получаем: $`5 + 10 + 10 + 5 + 1 = 31`$ день.<br>

#### Solution 2
Если за **друга** принять номер шага, а за вариант выбора на каждом шаге **0** (**не** приглашен) или **1** (приглашен), то получается, что у нас есть **5** выборов и для каждого такого выбора есть **2** **варианта**.<br>

Но по условию задачи, мы можем приглашать в гости от **1** до **5**, поэтому комбинация из 5 нулей **00000** - запрещена и её нужно будет **вычесь** из общего числа комбинаций.<br>

Т.о. получаем: $`2^{5} - 1 = 31`$ день.<br>

<br>

### Exercise 4
#### Solution 1
Выставим всех детей в ряд. На тех, кого мы **выбираем**, наденем майку с цифрой **1**, а на **остальных** - майку с цифрой **0**.<br>
В итоге мы получим последовательность, состоящую из **20** символов, из которых **7** - это единицы (**1**), например: **1**0**1****1****1**000**1**000**1**00000**1**0.<br>

Согласно формуле **перестановок с повторениями**, мы получим: $`P_{7,13}^{20} = {\frac {20!}{7!13!}}`$.<br>

<br>

#### Solution 2
Воспользуемся правилом произведения:
- у нас есть 20 способов выбрать первого;
- у нас есть 19 способов выбрать первого;
- ...
- у нас есть 14 способов выбрать седьмого;

**Итого** у нас есть $`N = 20 \cdot 19 \cdot 18 \cdot 17 \cdot 16 \cdot 15 \cdot 14`$ способов выборать **7** человек **упорядоченным** образом.<br>

Если взять одну такую комбинацию, и **поменять** в ней **2-х** человек **местами**, то мы получим **новую** комбинацию, при этом сам набор **не** изменится, т.е. в комбинации останутся всё **те же люди**. Т.е. мы подсчитали количество **разных упорядоченных наборов** из **7** человек, в таком наборе **порядок имеет значение**, например, `Петя, Вася` не равно `Вася, Петя`.<br>

Сколько раз каждый такой уникальный наборов из **7** человек продублировался?<br>
Для **каждого уникального набора** из **7** человек существует **7!** вариантов переставить в нем людей местами и получить таким образом **7!** **разных упорядоченных наборов**.<br>

Это значит, что каждую группу из **7** человек мы посчитали **7!** раз. Значит полученное значение нужно разделить на **7!**: $`{\frac {20 \cdot 19 \cdot 18 \cdot 17 \cdot 16 \cdot 15 \cdot 14}{7!}}`$.<br>

Если мы умножим всё выражение на **13!** и разделим на **13!** то верхнее выражение можно свернуть в **20!**:<br>
$`{\frac {20 \cdot 19 \cdot 18 \cdot 17 \cdot 16 \cdot 15 \cdot 14 \cdot 13!}{7!13!}} = {\frac {20!}{7!13!}}`$.<br>

Это и есть **число сочетаний** из **20** по **7**: $`C_{20}^{7} = {\frac {20!}{7!(20-7)!}}`$.<br>

<br>

# Подсчет ненужных вариантов
## Exercise 1
#### Solution
Всего существует $`6^{4}`$ различных **последовательностей** длины **4**, которые можно составить из **алфавита** из **6** цифр.
Из них нам нужно **исключить** все те последовательности, которые **не** содержат цифру **6**. Т.к. по услови задачи цифра **6** должна встретиться **хотя бы 1** раз.<br>

<br>

Всего существует $`5^{4}`$ различных последовательностей длины **4**, которые можно составить из алфавита из **5** цифр.<br>

<br>

Т.о. количество последовательностей, в которых **хотя бы 1** раз встретися цифра **6** равна: $`6^{4} - 5^{4}`$.<br>

<br>

## Exercise 2
#### Solution
Для начала, посчитаем все числа, у которых все цфиры разные:
- на **первой** позиции у нас есть **9 вариантов** выбора, т.к. числа не записываются с **0**;
- на **второй** позиции мы можем выбирать только из **9 вариантов** (мы вернули цифру 0 в доступные варианты, но убрали цифру, которую выбрали);
- на **третьей** позиции мы можем выбирать только из **8 вариантов**;
- на **четвертой** позиции мы можем выбирать только из **7 вариантов**;
- и т.д.

Итого: $`9 \cdot 9 \cdot 8 \cdot 7 \cdot 6 \cdot 5 \cdot 4 \cdot 3 \cdot 2 \cdot 1 = 9 \cdot 9!`$.<br>

<br>

При этом, **общее количество десятизначных чисел**: $`9 \cdot 10^{9}`$, т.к. на каждом шаге, начиная со второго у нас **10** вариантов для выбора - **любая цифра**.<br>

<br>

Т.о. получаем: $`9 \cdot 10^{9} - 9 \cdot 9!`$.<br>

<br>

# Умножение сочетаний
## Exercise 1
**Сколько** существует способов выбрать из **n** человек **команду**, состоящую из **k** человек, а затем **внутри** этой команды сназначить **1** капитана?<br>

<br>

#### Solution 1
Выбрать капитана можно **n** способами. После каждого такого выбора:
- количество свободных мест в команде **уменьшится** и станет **k-1**;
- для выбора останутся **доступными n-k** человек;

Т.е. нужно будет выбрать **k-1** человек из **n-1**.<br>

Итого: $`n \cdot C^{n-1}_{k-1}`$.

<br>

#### Solution 2
Выбрать команду размера **k** из **n** человек можно $`C^{n}_{k}`$ способами.
После каждого такого выбора в команду размера **k** можно выбрать капитана **k** способами.

Итого: $`k \cdot C^{n}_{k}`$.

<br>

### Conclusion
$`n \cdot C^{n-1}_{k-1} = k \cdot C^{n}_{k}`$

<br>

## Exercise 2: обобщение Exercise 1
#### Solution 1
Существует $`C^{n}_{k}`$ способов выбрать команду из **k** человек.<br>
После каждого такого выбора существует $`C^{k}_{m}`$ способов сформировать **штаб** из **m** человек.<br>

А значит **общее** количество вариантов: $`C^{n}_{k} \cdot C^{k}_{m}`$.<br>

<br>

#### Solution 2
Существует $`C^{n}_{m}`$ способов сформировать **штаб** из **m** человек.<br>
После того, как **штаб** сформирован, в команде остается еще **k-m** **свободных** мест, а для выбора остаются **доступными n-m** вариантов. А значит существует $`C^{n-m}_{k-m}`$ вариантов заполнить оставшиеся места в команде.<br>

А значит **общее** количество вариантов: $`C^{n}_{m} \cdot C^{n-m}_{k-m}`$.<br>

<br>

### Conclusion
$`C^{n}_{k} \cdot C^{k}_{m} = C^{n}_{m} \cdot C^{n-m}_{k-m}`$.<br>

<br>

# Раскладки
## Exercise 1
#### Solution
Если за **монетку** принять **выбор**, а за **вариант** выбора - **карман**, в который эту монетку нужно положить, то получается, что у нас есть **5** выборов и для каждого такого выбора есть **3 варианта** (3 кармана).<br>

Т.е. фактически задача сводит к поиску всех комбинаций с повторениями вида:
- 11233
- 32313
- ...

Т.о. получаем: $`3 \cdot 3 \cdot 3 \cdot 3 \cdot 3 = \textbf{3}^{\textbf{5}}`$ способов.<br>

## Exercise 2
#### Solution
Для **каждой конфеты** нужно решить, на **какю тарелку** её положить. Для каждой конфеты есть **5** варианта выбрать блюдце.<br>
Получется, что у нас имеет **3** выбора и для каждого выбора у нас есть **5** варианта выбора.<br>

Т.о. получаем: $`3^{5}`$.

## Exercise 3
#### Solution
Эта задача **аналогична** задаче *Exercise 2*, но попробуем решить её по-другому.<br>
Для **каждой тарелки** нужно решить, **сколько конфет** в неё положить.<br>
В таком случае нам нужно рассмотреть **10** **независимых групп** вариантов выбора для каждой из тарелок.<br>
Для каждого такого варианта возникает целое дерево вариантов для других тарелок:
- на **первой** тарелке **0** конфет;
  - на **второй** тарелке **0** конфет;
    - на **третьей** тарелке **3** конфеты;
  - на **второй** тарелке **1** конфета;
    - на **третьей** тарелке **2** конфеты;
  - на **второй** тарелке **2** конфет:
    - на **третьей** тарелке **1** конфеты;
  - на **второй** тарелке **3** конфет:
    - на **третьей** тарелке **0** конфеты;
- на **первой** тарелке **1** конфета;
  - ...
- на **первой** тарелке **2** конфеты;
  - ...
- на **первой** тарелке **3** конфеты;
  - ...

<br>

Для каждого варианта перечислим все возможные варианты выбора:
||Тарелка 1|Тарелка 2|Тарелка 3|Product|
|:-|:------|:--------|:--------|:---------|
|1|$`C^{3}_0=1`$|$`C^{3}_0=1`$|$`C^{3}_3=1`$|$`1`$|
|2|$`C^{3}_0=1`$|$`C^{3}_1=3`$|$`C^{2}_2=1`$|$`3`$|
|3|$`C^{3}_0=1`$|$`C^{3}_2=3`$|$`C^{1}_1=1`$|$`3`$|
|4|$`C^{3}_0=1`$|$`C^{3}_3=1`$|$`C^{0}_0=1`$|$`1`$|
|5|$`C^{3}_1=3`$|$`C^{2}_0=1`$|$`C^{2}_2=1`$|$`3`$|
|6|$`C^{3}_1=3`$|$`C^{2}_1=2`$|$`C^{1}_1=1`$|$`6`$|
|7|$`C^{3}_1=3`$|$`C^{2}_2=1`$|$`C^{0}_0=1`$|$`3`$|
|8|$`C^{3}_2=3`$|$`C^{1}_0=1`$|$`C^{1}_1=1`$|$`3`$|
|9|$`C^{3}_2=3`$|$`C^{1}_1=1`$|$`C^{0}_0=1`$|$`3`$|
|10|$`C^{3}_3=1`$|$`C^{0}_0=1`$|$`C^{0}_0=1`$|$`1`$|

<br>

Далее, варианты в каждой группе перемножаем и суммируем результаты для кжадой из групп.<br>

Т.о. получаем: $`1+3+3+1+3+6+3+3+3+1 = 27 = 3^{3}`$.<br>

# Упорядоченные разбиения
## Exercise 1
#### Solution
Требуется сделать **упорядоченное разбиение** множества мощности **8** на **3** непересекающиеся подмножества мощностей **1**, **3** и **4**.<br>

Т.о. получаем: $`\frac{8!}{1! \cdot 3! \cdot 4!} = \frac{4! \cdot 5 \cdot 6 \cdot 7 \cdot 8}{6 \cdot 4!} = 280`$.<br>

<br>

# Неупорядоченные разбиения
## Exercise 1
#### Solution
Требуется сделать **не**упорядоченное разбиение мноества мощности **8** на **3** непересекающиеся подмножества с мощностями **2**, **3** и **3**.<br>

Мы видим, что подмножество мощности **2** встречается **1** раз, значит $`m_{1} = 1`$.<br>
Мы видим, что подмножество мощности **3** встречается **2** раза, значит $`m_{2} = 1`$.<br>

Т.о. получаем: $`\frac{8!}{2! \cdot 3! \cdot 3! \cdot m_{1}! \cdot m_{2}!} = \frac{4 \cdot \cancel{2} \cdot 7 \cdot \cancel{6} \cdot 5 \cdot 2 \cdot \cancel{2} \cdot \cancel{3} \cdot \cancel{2}}{\cancel{2} \cdot \cancel{6} \cdot \cancel{3} \cdot \cancel{2} \cdot \cancel{2}} = 280`$.<br>
